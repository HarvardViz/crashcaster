<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Crashcaster</title>

    <!-- Vendor CSS, Bootstrap first -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css"
          integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/weather-icons.min.css" type="text/css">
    <link rel="stylesheet" href="css/lightbox.css" type="text/css" media="screen">
    <link rel="stylesheet" href="css/jquery.fullPage.css" type="text/css"/>
    <link rel="stylesheet" href="css/tether.min.css" type="text/css"/>
    <link rel="stylesheet" href="css/cal-heatmap.css" type="text/css"/>


    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/reset.css" type="text/css"/>
    <link rel="stylesheet" href="css/backgrounds.css" type="text/css"/>
    <link rel="stylesheet" href="css/dc.css" type="text/css"/>
    <link rel="stylesheet" href="css/style.css" type="text/css"/>
    <link rel="stylesheet" href="css/style_map.css">
    <link rel="stylesheet" href="css/style_crashboard.css">


    <style type="text/css">
        #monthly-volume-chart g.y {
            display: none;
        }
    </style>

</head>
<body>


<div class="collapse" id="collapsingNavbarDrawer">
    <div class="bg-inverse" style="padding: 40px 20px 20px 20px;">
        <hr>
        <h4 class="drawer-text-heading">What can we do to save more lives in Cambridge?</h4>
        <div class="drawer-text" style="padding-top: 8px;">That was the motivating question for our CS171 Visualization
            project, Crashcaster.</div>
        <div class="drawer-text" style="padding-top: 8px;">The truth is that traffic accidents are one of the leading
            killers of Americans -- right up there with heart disease and cancer.  Crashcaster is about the collisions
            between strangersâ€™ lives, the impacts upon them, where they happen most often,
            and how to avoid finding yourself at a serious, life-altering intersection on the streets of Cambridge.</div>
        <div class="drawer-text" style="padding-top: 8px;">Using visualizations to create engagement and understanding
            we thought could help with our goal.
            We start our story in the future with our forecast, "Crashcaster".  We then invite you to explore the
            historic data we used to create our predictive model via our dashboard, "Crashboard".  Finally, we unravel
            the stories in the data that we found interesting while enabling you to explore for yourself in what we hope
            are novel ways.</div>
        <div class="drawer-text">&nbsp;</div>
        <div class="drawer-text">Stay safe on the streets of Cambridge!</div>
        <div class="drawer-text">Kyle Maguire, Rick Farmer, Kartik Trasi and Adam DiChiara</div>
        <hr>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsingNavbarDrawer">
            <span class="fa fa-close" style="font-size: .8em;"> Close</span>
        </button>

    </div>
</div>

<nav id="menu" class="navbar navbar-dark bg-inverse navbar-fixed-top" role="navigation">

    <div class="collapse navbar-toggleable-xs" id="navbar-collapse-1">
        <a class="navbar-brand" href="index.html">CRASHCASTER</a>
        <ul class="nav navbar-nav">
            <li data-menuanchor="home" class="nav-item"><a class="nav-link" href="#home">Home</a></li>
            <li data-menuanchor="crashboard" class="nav-item"><a class="nav-link" href="#crashboard">Crashboard</a></li>
            <li data-menuanchor="sankey" class="nav-item"><a class="nav-link" href="#sankey">Weather Impact</a></li>
            <li data-menuanchor="crashcalendar" class="nav-item"><a class="nav-link" href="#crashcalendar">Crashcalendar</a></li>
            <li data-menuanchor="intersections" class="nav-item"><a class="nav-link" href="#intersections">Intersections</a></li>
            <li data-menuanchor="streetexplorer" class="nav-item"><a class="nav-link" href="#streetexplorer">Street Explorer</a></li>
            <li data-menuanchor="screencast" class="nav-item"><a class="nav-link" href="#screencast">Screencast</a></li>
            <li data-menuanchor="processbook" class="nav-item"><a class="nav-link" href="#processbook">Process Book</a></li>
            <li data-menuanchor="about" class="nav-item" style="font-size: .8em;"><a class="nav-link navbar-toggler" data-toggle="collapse" data-target="#collapsingNavbarDrawer" href="#about"> <span class="fa fa-question-circle"></span></a></li>
        </ul>
    </div>
</nav>


<div class="section active" id="section0">

    <div class="container bg-content-crashcaster">

        <div class="row">
            <div class="col-md-3">

                <div class="row bg-content-white" align="center">
                    <h4 class="textbox-heading">Travel Type</h4>

                    <div class="btn-group" role="group" aria-label="Travel Type">
                        <button onclick="cc$.ui_forecast.setTravelTypeTo('auto')" id="btn_auto" type="button"
                                class="btn btn-secondary"><p
                                class="fa fa-car btn-type-travel"></p>
                            <p>Auto</p></button>
                        <button onclick="cc$.ui_forecast.setTravelTypeTo('bike')" id="btn_bike" type="button"
                                class="btn btn-secondary"><p
                                class="fa fa-bicycle btn-type-travel"></p>
                            <p>Bike</p></button>
                        <button onclick="cc$.ui_forecast.setTravelTypeTo('cycle')" id="btn_cycle" type="button"
                                class="btn btn-secondary"><p
                                class="fa fa-motorcycle btn-type-travel"></p>
                            <p>Cycle</p></button>
                        <button onclick="cc$.ui_forecast.setTravelTypeTo('walk')" id="btn_walk" type="button"
                                class="btn btn-secondary"><p
                                class="fa fa-male btn-type-travel"></p>
                            <p>Walk</p></button>
                    </div>
                </div>
                
                 <h4 class="textbox-heading">Crashtistics</h4>
                <div class="row">
                        <div class="textbox" id="crashtxt" style="width:170px; float: left;"></div> <div class="textbox" id="crashgraph"></div>
                </div>
                
                
                <div class="row bg-content">
                    <h4 class="textbox-heading" style="padding: 0 0 0 0;">Accidents Forecast</h4>
                    <p id="forecast-count" class="textbox-forecast-count">-</p>
                </div>
            </div>

            <div class="col-md-6">
                <div id="map" class="" style="margin: 0 0 0 3em;"></div>
            </div>
            <div class="col-md-3">
                <h3 class="center white text-shadow"><span
                        id="current-location">Cambridge, MA</span></h3>
                <h4 id="current-datetime" class="textbox-heading" style="font-size:13px; padding: 0 0 0 0;"></h4>
                <div class="row bg-content-white" align="center">
                    <h4 class="textbox-heading">Current Weather</h4>


                    <div id="current-weather" class=""></div>

                    <div>&nbsp;</div>

                    <div><p id="what-if" class="textbox" style="text-align: center;">What if today is...</p></div>
                    <div class="btn-group" role="group" aria-label="Weather selection">
                        <button onclick="cc$.ui_forecast.setWeatherConditionsTo('rain')" id="btn_rain" type="button"
                                class="btn btn-secondary"><p
                                class="wi wi-wu-rain btn-type-weather"></p>
                            <p>Rain</p></button>
                        <button onclick="cc$.ui_forecast.setWeatherConditionsTo('snow')" id="btn_snow" type="button"
                                class="btn btn-secondary"><p
                                class="wi wi-wu-snow btn-type-weather"></p>
                            <p>Snow</p></button>
                        <button onclick="cc$.ui_forecast.setWeatherConditionsTo('fog')" id="btn_fog" type="button"
                                class="btn btn-secondary"><p
                                class="wi wi-fog btn-type-weather"></p>
                            <p>Fog&nbsp;</p></button>
                        <button onclick="cc$.ui_forecast.setWeatherConditionsTo('clear')" id="btn_clear" type="button"
                                class="btn btn-secondary"><p
                                class="wi wi-wu-clear btn-type-weather"></p>
                            <p>Clear</p></button>

                    </div>
                </div>
                <div class="row">
                    &nbsp;
                </div>
                <div class="row bg-content">
                    <h4 class="textbox-heading">Today's Forecast</h4>
                    <p id="forecast-text" class="textbox">
                        <span id="weathertxt"></span>
                        <span id="predict1"></span>
                        <span id="predict2"></span>
                    <p id="source" class="citation"></p>
                    </p>
                </div>

            </div>
        </div>

        <div class="row" style="padding: 0 0 0 0;">
            <div class="bg-content-white" style="padding: 0 0 0 0;">

            </div>
        </div>


        <div class="row" style="padding: .5em .5em .5em .5em;">
            <div id="hourly_graph" class="bg-content-hourly"></div>
        </div>

        <div class="row bg-content-white">
            <div id="citation" class="col-md-6">
            </div>
            <div id="disclaimer" class="col-md-6">Disclaimer: Harvard class project.  Predictive model, as yet, is untested against real world.
            </div>
        </div>

    </div>

</div>

<div class="section" id="section2">

    <div id="crashboard_wrapper">
        <div id="crashboard_toolbar">
            <div id="crashboard_accidentTypeFilter"></div>
            <div id="crashboard_weatherFilter"></div>
            <div id="crashboard_mapToggle"></div>
            <div class="clearfix"></div>
        </div>
        <div id="crashboard_accidentMapWrapper">
            <div id="crashboard_accidentMap"></div>
            <div id="crashboard_yearChart"></div>
            <div id="crashboard_monthChart"></div>
            <div id="crashboard_dayChart"></div>
            <div id="crashboard_hourChart"></div>
        </div>
        <div id="crashboard_storiesWrapper">
            <div id="crashboard_storiesBar"></div>
            <div id="crashboard_storiesContent"></div>
        </div>
    </div>

    <div id="crashboardAboutModal">
        <div class="crashboardAboutContent">
            <div class="crashboardTitle">
                <div class="crashboardLabel">Welcome to</div>
                The Crashboard
            </div>
            <p>Welcome to The Crashboard! Here we map out the full Cambridge accident dataset and allow you to explore it in any way you want.</p>
            <p>Be sure to check out the Highlights bar at the bottom left for some exploration ideas. Good luck!</p>
            <div class="crashboardButton">Loading...</div>
        </div>
    </div>

</div>

<div class="section" id="section3">
    <div class="container">
        <div class="row">
            <div class="bg-content">

                <div class="row">
                    <div class="col-md-12 bg-content-white" style="background-color: rgba(255, 255, 255, 0.8);">
                        <h1>What happens when the weather turns bad?</h1>
                        <p id="title"><i>Number of accidents per day normalized by weather</i></p>

                    </div>
                </div>

                <div class="row">&nbsp;</div>
                <div class="row">&nbsp;</div>

                <div class="row">
                    <!-- Commented out Sankey filters ...
                    <div class="col-md-12 bg-content-white" style="background-color: rgba(255, 255, 255, 0.8);">

                        <button onclick="filte_me()" id="Clear" type="button" class="btn btn-danger">Clear <i
                                class="fa fa-filter fa-1x" aria-hidden="true"></i></button>
                        <button onclick="filte_me()" id="Auto" type="button" class="btn btn-default"><i
                                class="fa fa-car fa-1x" aria-hidden="true"></i>&nbsp;Auto
                        </button>
                        <button onclick="filte_me()" id="Bicycle" type="button" class="btn btn-default"><i
                                class="fa fa-bicycle fa-1x" aria-hidden="true"></i>&nbsp;Bicycle
                        </button>
                        <button onclick="filte_me()" id="Fixed" type="button" class="btn btn-default"><i
                                class="fa fa-tree fa-1x" aria-hidden="true"></i>&nbsp;Fixed Object
                        </button>
                        <button onclick="filte_me()" id="Motorcycle" type="button" class="btn btn-default"><i
                                class="fa fa-motorcycle fa-1x" aria-hidden="true"></i>&nbsp;Motorcycle
                        </button>
                        <button onclick="filte_me()" id="Parked" type="button" class="btn btn-default"><i
                                class="fa fa-map-signs fa-1x" aria-hidden="true"></i>&nbsp;Parked Vehicle
                        </button>
                        <button onclick="filte_me()" id="Pedestrian" type="button" class="btn btn-default"><i
                                class="fa fa-male fa-1x" aria-hidden="true"></i>&nbsp;Pedestrian
                        </button>

                    </div> -->
                </div>

                <div class="row">&nbsp;</div>

                <div class="row">
                    <div id="sankey-diagram" class="col-md-12 bg-content-white"
                         style="background-color: rgba(255, 255, 255, 0.8);"></div>
                </div>

            </div>
        </div>
    </div>
</div>


<div class="section" id="section4">

    <div class="container">
        <div class="row">

            <div class="col-md-6">
                <div class="row" align="center">
                    <h6>Featured Background Stories</h6>
                    <div class="btn-group" role="group" aria-label="Noteworthy High Accident Dates">
                        <button id="cal-btn_story1" type="button" value="story1" href="#cal-story1"
                                class="btn btn-secondary"><p
                                class="fa fa-newspaper-o btn-type-travel"></p>
                            <p>1</p></button>
                        <button id="cal-btn_story2" type="button" value="story2" href="#cal-story2"
                                class="btn btn-secondary"><p
                                class="fa fa-newspaper-o btn-type-travel"></p>
                            <p>2</p></button>
                        <button id="cal-btn_story3" type="button" value="story3" href="#cal-story3"
                                class="btn btn-secondary"><p
                                class="fa fa-newspaper-o btn-type-travel"></p>
                            <p>3</p></button>
                        <!--
                        <button id="cal-btn_story4" type="button" value="story4" href="#cal-story4"
                                class="btn btn-secondary"><p
                                class="fa fa-newspaper-o btn-type-travel"></p>
                            <p>4</p></button>
                            -->
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="row" align="center">
                    <h6>Highlight Dates by Accident Type</h6>
                    <div class="btn-group" role="group" aria-label="Travel Type">
                        <button id="cal-btn_auto" type="button" value="Auto" href="#test"
                                class="btn btn-secondary"><p
                                class="fa fa-car btn-type-travel"></p>
                            <p>Auto</p></button>
                        <button id="cal-btn_bicycle" type="button" value="Bicycle"
                                class="btn btn-secondary"><p
                                class="fa fa-bicycle btn-type-travel"></p>
                            <p>Bike</p></button>
                        <button id="cal-btn_pedestrian" type="button" value="Pedestrian"
                                class="btn btn-secondary"><p
                                class="fa fa-male btn-type-travel"></p>
                            <p>Walk</p></button>
                        <button id="cal-btn_parked" type="button" value="Parked Vehicle"
                                class="btn btn-secondary"><p
                                class="fa fa-arrow-circle-down btn-type-travel"></p>
                            <p>Parked</p></button>
                        <button id="cal-btn_refresh" type="button" value="none"
                                class="btn btn-secondary"><p
                                class="fa fa-refresh btn-type-travel"></p>
                            <p>Refresh</p></button>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">

            <div class="col-md-12 bg-content-white" style="background-color: rgba(255, 255, 255, .9);">
                <div id="cal-heatmap-2010"></div>
                <div id="cal-heatmap-2011"></div>
                <div id="cal-heatmap-2012"></div>
                <div id="cal-heatmap-2013"></div>
                <div id="cal-heatmap-2014"></div>
            </div>

            <div id="cal-story1">
                <p class="wi wi-wu-snow cal-story-icon"></p>
                <p class="fa fa-car cal-story-icon"></p>
                <p class="fa fa-male cal-story-icon"></p>
                <p class="fa fa-arrow-circle-down cal-story-icon"></p>
                <h3>Major Nor' Easter Hits Region</h3>
                <br>
                <p class="cal-story-content">In mid January, 2011, the northeast was hit by a severe snowstorm that dropped up to 18 inches of snow in the Cambridge area.
                    Many parked cars were damaged by fallen trees and limbs.  Schools and businesses were closed and most stayed off the roads during the storm, but
                    in the aftermath many took to icy streets and suffered accidents due to the slippery conditions.  The worst day for accidents was Tuesday Jan 18th,
                    which followed the Martin Luther King Jr. holiday and was likely the day when most returned to work and school after the storm.</p>
                <br>
                <img src="img/calendar-story1.jpg" style="width:300px;height:auto;">
                <br>
                <a href="http://archive.boston.com/news/weather/articles/2011/01/13/outages_closed_schools_left_in_storms_wake/" target="_blank">Source: Boston.com</a>
                <br>
                <button class="modal_close" type="button">Close</button>
            </div>

            <div id="cal-story2">
                <p class="fa fa-low-vision cal-story-icon"></p>
                <p class="fa fa-car cal-story-icon"></p>
                <p class="fa fa-male cal-story-icon"></p>
                <p class="fa fa-bicycle cal-story-icon"></p>
                <h3>Severe Rush Hour Power Outage</h3>
                <br>
                <p class="cal-story-content">A utility power failure on November 30th, 2012 resulted in most of Cambridge being swathed in darkness during the busy evening commute.
                    Street lights and traffic signals were inoperative, and MBTA train service was limited.  This resulted in dangerous conditions for drivers and pedestrians trying
                    to find their way home during this very busy time of day. </p>
                <br>
                <img src="img/calendar-story2.jpg" style="width:300px;height:auto;">
                <br>
                <a href="http://archive.boston.com/news/local/massachusetts/2012/11/30/power-outage-snarls-cambridge/WkZxSU6xt5xjGa5gY3sRYP/story.html" target="_blank">Source: Boston.com</a>

                <br>
                <button class="modal_close" type="button">Close</button>
            </div>

            <div id="cal-story3">
                <p class="fa fa-calendar-check-o cal-story-icon"></p>
                <p class="fa fa-car cal-story-icon"></p>
                <p class="fa fa-male cal-story-icon"></p>
                <p class="fa fa-bicycle cal-story-icon"></p>
                <h3>Annual Head of the Charles Regatta</h3>
                <br>
                <p class="cal-story-content">
                    The Head of the Charles Regatta is a signature event each October with the rowing event bringing more than 400,000 spectators to the banks of the Charles River in Boston and Cambridge.
                    While many roads are closed for public safety, the high volume of tourist vehicle and foot traffic make accidents more likely to occur.
                </p>
                <br>
                <img src="img/calendar-story3.jpg" style="width:300px;height:auto;">
                <br>
                <a href="http://boston.cbslocal.com/guide/a-guide-to-the-head-of-the-charles-regatta/" target="_blank">Source: cbslocal.com</a>
                <a href="http://hocr.org" target="_blank">Image: hocr.org</a>

                <br>
                <button class="modal_close" type="button">Close</button>
            </div>

            <div id="cal-story4">
                Story 4
                <br>
                <button class="modal_close" type="button">Close</button>
            </div>
        </div>

    </div>
</div>


<div class="section" id="section5">
    <div class="container">
        <div class="row">
            <div class="col-md-12 bg-content-white">
                <h2 class="linemap-heading">Accident Totals by Street and Intersection</h2>
                <h4 class="linemap-heading">Click on the bars in the chart below to see where along each road most accidents occur.</h4>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 bg-content-white">
                <div id="barchart"></div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 bg-content-white">
                <div id="linemap"></div>
            </div>
        </div>

    </div>
</div>


<div class="section" id="section6">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h2>Street View Explorer:  Navigate Cambridge's road network</h2>
                <h4>Navigate your way through Cambridge's most dangerous roads.</h4>
                <h4>Try to spot what makes each intersection hazardous!</h4>
                <h5>The graph below shows your current road and all the available connecting roads for you to explore.</h5>
                <h5>As you connect to other roads you'll see views of your current intersection.</h5>
            </div>
        </div>

        <hr>

        <div class="row">
            <div class="col-md-7">
                <div id="forcegraph-title"></div>
                <div id="forcegraph-subtitle"></div>
                <div id="forcegraph"></div>
            </div>
            <div class="col-md-5">
                <div id="streetview-title"></div>
                <div id="streetview-info"></div>
                <div id="streetview1"></div>
                <div id="streetview2"></div>
            </div>
        </div>

    </div>
</div>


<div class="section" id="section7">
    <div class="container">
        <div class="row">
            <div class="col-md-12 bg-content-white">
                <h1>Screencast</h1>
            </div>
        </div>
    </div>
</div>


<div class="section" id="section8">
    <div class="container">
        <div class="row">
            <div class="col-md-12 bg-content-white">
                <h1>Process Book</h1>
                <p>Data, Sources, etc.</p>
            </div>
        </div>
    </div>
</div>


<!--[if IE]>
<script type="text/javascript">
    var console = {
        log: function () {
        }
    };
</script>
<![endif]-->


<!-- Vendor JavaScript Libraries -->
<!-- jQuery first, then Bootstrap JS. -->
<script src="js/lib/tether.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js"
        integrity="sha384-vZ2WRJMwsjRMW/8U7i6PWi6AlO1L79snBrmgiDpgIWJ82z8eA5lenwvxbMV1PAh7"
        crossorigin="anonymous"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
<script src="js/lib/jquery.bootstrap-autohidingnavbar.js"></script>
<script src="js/lib/jquery.fullPage.min.js"></script>
<script src="js/lib/moment.min.js" type="text/javascript"></script>
<script src="js/lib/lightbox-2.6.min.js" type="text/javascript"></script>
<script src="js/lib/queue.js" type="text/javascript"></script>
<script src="js/lib/d3.js" type="text/javascript"></script>
<script src="js/lib/d3.tip.js" type="text/javascript"></script>
<script src="js/lib/latlon-spherical.js" type="text/javascript"></script>
<script src="js/lib/dms.js" type="text/javascript"></script>
<script src="js/lib/cal-heatmap.js" type="text/javascript"></script>
<script src="js/lib/crossfilter.js" type="text/javascript"></script>
<script src="js/lib/dc.js" type="text/javascript"></script>
<script src="js/lib/colorbrewer.js" type="text/javascript"></script>
<script src="js/lib/jquery.leanModal.min.js" type="text/javascript"></script>


<!-- Custom JavaScript -->
<script src="js/crashcaster.js" type="text/javascript"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $('.dropdown-toggle').dropdown();
        $("nav.navbar-fixed-top").autoHidingNavbar('setDisableAutohide', false);
        $.fn.fullpage({
            slidesColor: ['#428BCA', '#5CB85C', '#5BC0DE', '#F0AD4E', '#FF530D', '#FFFFFF'], // Bootstrap
            anchors: ['home', 'crashboard', 'sankey', 'crashcalendar', 'intersections', 'streetexplorer', 'screencast', 'processbook'],
            menu: '#menu'
        });

    });

    window.onload = crashcaster.init();
</script>


</body>
</html>
